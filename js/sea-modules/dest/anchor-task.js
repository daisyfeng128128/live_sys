define(function(d,c,f){var h;var b;var e=function(l,m,j,i,k){this.tableGift="";this.h='<div class="task'+l+' temp" >                    <div class="task11-header">                        <div class="task-qiandao-name">'+m+'</div>                    </div>                    <div class="task11-p1">'+j+'</div>                    <div class="task11-fenjiexian"></div>                    <div class="task111-name">'+m+'</div>                    <div class="task111">                    <table>[GIFTTABLE]                    </table>                    <div class="task111-lingqu" id="sendAnyGift">                    <span class="task111-btn [LQ]" id="task'+l+'-btn">[LQT]</span>                    </div>                    </div>            </div>';this.tid=l;this.gifts=jQuery.parseJSON(i);this.duration=i.duration;this.finish=k};e.prototype={init:function(){var j="<tr>";for(var k=0;k<this.gifts.prize[0].gift.length;k++){j+='<td><img src="/static_data/gift/'+this.gifts.prize[0].gift[k].pic+'"></td><td>\u5956\u52B1'+this.gifts.prize[0].gift[k].text+this.gifts.prize[0].gift[k].num+"\u4E2A</td>"}j+="</tr>";if(this.finish==2){lq="hasling";lqt="\u5DF2\u9886\u53D6"}else{if(this.finish==1){lq="";lqt="\u9886\u53D6"}else{if(this.finish==0){lq="weiling";lqt="\u9886\u53D6"}else{lq="weiling";lqt="\u672A\u5F00\u542F"}}}this.h=this.h.replace("[LQT]",lqt);this.h=this.h.replace("[LQ]",lq);this.h=this.h.replace("[GIFTTABLE]",j);$(".temp").remove();$(".task-right").append(this.h);$(".task-right .task"+this.tid).show()}};var g=function(j){var k=$.extend({},{duration:[],handle:[],minutes:"",prize:"",finsh:"",callback:function(){}},j);for(var i in k){this[i]=k[i]}};g.prototype={init:function(){console.log(this.minutes);this.initMenu(),this.initBenifit(),this.addEnent()},initMenu:function(){var k=$(".jin-outer");var p=$(".jin-text-list");var n="";var q="";var j=8;var o=this.minutes/j*100;if(this.minutes>0){o=o>97?97:o;n+='<div class="jin-inner" style="width: '+o+'%"></div>';n+='<div class="tuoyuan"></div>'}for(var m=0;m<this.duration.length;m++){var l=this.duration[m]/j*100;if(m!=(this.duration.length-1)){if(l<o||l==o){n+='<div class="tuoyuan" style="left:'+l+'%"></div>'}else{n+='<div class="sanjiao" style="left:'+l+'%"></div>'}}if(m==1){q+='<div class="jin-text" style="left:30%">'+this.duration[m]+"\u5206\u949F</div>"}else{if(m==2){q+='<div class="jin-text" style="left:60%">'+this.duration[m]+"\u5206\u949F</div>"}else{if(m==3){q+='<div class="jin-text" style="left:90%">'+this.duration[m]+"\u5206\u949F</div>"}else{q+='<div class="jin-text" style="left:'+this.duration[m]+'%">'+this.duration[m]+"\u5206\u949F</div>"}}}}if(this.minutes>j||this.minutes==j){n+='<div class="tuoyuan" style="left:98%"></div>'}k.html(n);p.html(q)},initBenifit:function(){var n=this.finish;var u=this.prize;var r=this.duration;var l=this.handle;var m=$("#seeOnlineTable table");var t="<tr>";var k=m.siblings(".task111-lingqu");var p="";for(var o=0;o<u[0].gift.length;o++){t+='<td><img src="/static_data/gift/'+u[0].gift[o].pic+'"></td><td>\u5956\u52B1'+u[0].gift[o].text+u[0].gift[o].num+"\u4E2A</td>"}t+="</tr>";p='<span class="task111-btn" id="seeOnline5" dur="5">\u9886\u53D6\u5956\u52B1</span>';var s="weiling";_i=0;_k=0;for(var q=0;q<l.length;q++){if(l[q]==1){break}_i++}if(_i==l.length){_i=0;for(var q=0;q<l.length;q++){if(l[q]==0){_k=1;break}_i++}}if(_i<l.length){t="<tr>";for(var o=0;o<u[_i].gift.length;o++){t+='<td><img src="/static_data/gift/'+u[_i].gift[o].pic+'"></td><td>\u5956\u52B1'+u[_i].gift[o].text+u[_i].gift[o].num+"\u4E2A</td>"}}if(_i<l.length&&_k==0){p='<span class="task111-btn lingqu" id="seeOnline'+r[_i]+'" dur="'+r[_i]+'">\u9886\u53D6\u5956\u52B1</span>'}else{if(_i==l.length){p='<span class="task111-btn hasling" id="seeOnline'+r[0]+'" dur="'+r[0]+'">\u5DF2\u9886\u5B8C</span>'}else{p='<span class="task111-btn weiling" id="seeOnline'+r[0]+'" dur="'+r[0]+'">\u9886\u53D6\u5956\u52B1</span>'}}if(n==3){p='<span class="task111-btn weiling">\u672A\u5F00\u542F</span>'}m.html(t);k.html(p)},addEnent:function(){$(".task111-lingqu").on("click",".lingqu",function(){UIF.handler.claimeLookLive({groupId:b,taskId:h,duration:$(this).attr("dur")},function(i){a(h,b)})})}};var a=function(j,i){if(j==2){UIF.handler.taskDetails({groupId:i,taskId:j},function(l){var l=jQuery.parseJSON(l);var m="\u6BCF\u65E5\u7B7E\u5230";var k="\u6BCF\u5929\u7B7E\u5230\u4E00\u6B21\u9886\u53D6\u5956\u52B1!";new e(l.taskId,m,k,l.parameters,l.finish).init()})}else{if(j==1){UIF.handler.taskDetails({groupId:i,taskId:j},function(l){l=jQuery.parseJSON(l);var k=jQuery.parseJSON(l.parameters);new g({duration:k.duration,handle:k.handle,minutes:k.minutes,prize:k.prize,finish:l.finish}).init()})}else{if(j==6){UIF.handler.taskDetails({groupId:i,taskId:j},function(l){var l=jQuery.parseJSON(l);var m="\u8D60\u9001\u793C\u7269\u4E00\u679A";var k="\u8D60\u9001\u4EFB\u610F\u793C\u7269\u4E00\u4E2A\u53EF\u9886\u53D6\u5956\u52B1!";new e(l.taskId,m,k,l.parameters,l.finish).init()})}else{if(j==7){UIF.handler.taskDetails({groupId:i,taskId:j},function(l){var l=jQuery.parseJSON(l);var m="\u8D60\u9001\u793C\u7269\u8D85\u8FC71000\u9017\u5E01";var k="\u8D60\u9001\u4E3B\u64AD\u793C\u7269\u7D2F\u8BA1\u8D85\u8FC71000\u9017\u5E01!";new e(l.taskId,m,k,l.parameters,l.finish).init()})}}}}if(typeof(j)==undefined||j==""){$(".task-left").hide();$(".task-right").hide()}$(".task-left .task-li[rel='"+j+"']").addClass("task-li-hover").siblings().removeClass("task-li-hover");$(".task-right >div").hide();$(".task-right").find(".task"+j).show()};$(".task-header div").click(function(){$(this).siblings().removeClass("bottom-line");$(this).addClass("bottom-line");var k=$(this).attr("indexs");var j,i;UIF.handler.sendTaskGroups({},function(m){var m=jQuery.parseJSON(m);var l="";$.each(m,function(){var n=$(this);l+='<div class="task-area">';l+='<div class="task-type"><div class="jian dk" zid="'+n[0].id+'" >'+n[0].name+"</div></div> ";i=n[0].id;if(n[0].taskList.length>0){l+='<div class="task-list">';$.each(n[0].taskList,function(p,o){if(k==0){l+=' <div class="task-li" rel="'+o.id+'" clazz="'+o.clazz+'">'+o.taskName+"</div>"}else{if(o.finishStatus==k){j=o.id;l+=' <div class="task-li" rel="'+o.id+'" clazz="'+o.clazz+'">'+o.taskName+"</div>"}}});l+="</div>"}l+="</div>"});$(".task-left").html(l);a(j,i)})});$(".switch-area").on("click","#sw-mission",function(i){if(!UIF.handler.login){UIF.handler.loging();return}if($(".TaskBox").is(":hidden")){UIF.handler.sendTaskGroups({},function(k){var k=jQuery.parseJSON(k);var j="";$.each(k,function(){var l=$(this);j+='<div class="task-area">';j+='<div class="task-type"><div class="jian dk" zid="'+l[0].id+'" >'+l[0].name+"</div></div> ";if(l[0].taskList.length>0){j+='<div class="task-list">';$.each(l[0].taskList,function(n,m){j+=' <div class="task-li" rel="'+m.id+'" clazz="'+m.clazz+'">'+m.taskName+"</div>"});j+="</div>"}j+="</div>"});$(".task-left").html(j);a(2,1);$(".TaskBox").show()});$(this).addClass("sw-mission").removeClass("sw-mission-hover")}else{$(".TaskBox").hide();$(this).addClass("sw-mission-hover").removeClass("sw-mission")}});$(".task-left").on("click"," .task-area .dk",function(j){var i=$(this);i.parent().siblings(".task-list").slideToggle();if(i.hasClass("jian")){i.removeClass("jian").addClass("jia")}else{i.removeClass("jia").addClass("jian")}});$(".task-left").on("click",".task-area .task-list .task-li",function(i){h=$(this).attr("rel");b=$(this).parents().siblings(".task-type").find(".dk").attr("zid");a(h,b)});$(".task-right").on("click","#task2-btn",function(j){var i=$(this);UIF.handler.signin({groupId:"1",taskId:"2"},function(k){var k=jQuery.parseJSON(k);if(k.finish==2){i.addClass("hasling")}})});$(".xx").click(function(){$(".TaskBox").hide();$("#sw-mission").removeClass("sw-mission").addClass("sw-mission-hover")});$(".task11btn").click(function(){$(this).addClass("hasling")})});